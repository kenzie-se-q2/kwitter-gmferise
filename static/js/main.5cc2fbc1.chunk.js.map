{"version":3,"sources":["store/store.js","apis/social.js","store/polling.js","components/MessageItem.js","components/MessageList.js","views/Home.js","views/NotFound.js","views/Login.js","views/NewAccount.js","components/ProfilePicture.js","views/Profile.js","components/Navigation.js","components/Toast.js","App.js","index.js"],"names":["initialState","user","token","messages","toast","message","statusCode","actions","toastFor","action","successMessage","successCode","payload","useStore","create","devtools","redux","state","type","username","useProtected","toastMessage","dispatch","history","useHistory","useEffect","replace","baseURL","loginRequest","password","fetch","method","headers","body","JSON","stringify","then","res","json","getUser","Polling","usePolling","interval","callback","pollInterval","setInterval","clearInterval","triggerFunction","args","Context","createContext","Messages","props","useState","displayName","picture","userData","setUserData","poll","useContext","like","likes","find","isLiked","response","prev","pictureLocation","slice","toggleLike","likeId","id","Authorization","messageId","addLike","Message","compact","className","src","Header","text","Button","as","labelPosition","icon","onClick","Icon","name","Label","basic","pointing","likeCount","MessageList","msg","map","m","MessageItem","key","length","Home","draft","setDraft","limit","offset","handleSubmit","event","preventDefault","Provider","value","Form","onSubmit","Field","TextArea","rows","placeholder","onChange","target","variant","NotFound","Login","formData","setFormData","handleChange","push","htmlFor","autoFocus","required","pattern","to","NewAccount","e","inputName","inputValue","ProfilePicture","image","setImage","syncPicture","ok","blob","URL","createObjectURL","files","pictureData","FormData","append","putPicture","Profile","about","syncFormToApi","updateForm","color","Input","Navigation","goBack","Toast","fadeClass","anim","setTimeout","clearTimeout","App","window","show404","exact","path","component","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.5cc2fbc1.chunk.js","sourcesContent":["import { useHistory } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\nimport create from 'zustand';\r\nimport { devtools, redux } from 'zustand/middleware';\r\n\r\nconst initialState = {\r\n  user: {\r\n    token: '',\r\n  },\r\n  messages: [],\r\n  toast: {\r\n    message: '',\r\n    statusCode: 0,\r\n  },\r\n};\r\n\r\nexport const actions = {\r\n  /** Log in the provided user. Payload is the new user object. */\r\n  LOGIN: 'LOGIN',\r\n  /** Log out the current user. No payload. */\r\n  LOGOUT: 'LOGOUT',\r\n  /** Display a toast. Payload { String message, Number statusCode } */\r\n  TOAST: 'TOAST',\r\n  /** Clear the current toast. No payload. */\r\n  UNTOAST: 'UNTOAST',\r\n  /** Set the message list. Payload is an array of messages. */\r\n  UPDATE_MESSAGES: 'UPDATE_MESSAGES',\r\n  /** Reset the message lsit. No payload. */\r\n  RESET_MESSAGES: 'RESET_MESSAGES',\r\n};\r\n\r\nconst toastFor = (action, successMessage, successCode = 0) => ({\r\n  message: action.payload?.message || successMessage,\r\n  statusCode: action.payload?.statusCode || successCode\r\n});\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case actions.LOGIN:\r\n      return {\r\n        user: action.payload,\r\n        toast: toastFor(action, `Successfully logged in as ${action.payload.username}`)\r\n      };\r\n    case actions.LOGOUT:\r\n      return {\r\n        user: initialState.user,\r\n        toast: toastFor(action, 'Log out successful', 200)\r\n      };\r\n    case actions.TOAST:\r\n      return { toast: { ...state.toast, ...action.payload } };\r\n    case actions.UNTOAST:\r\n      return { toast: initialState.toast };\r\n    case actions.UPDATE_MESSAGES:\r\n      return { messages: action.payload };\r\n    case actions.RESET_MESSAGES:\r\n      return { messages: initialState.messages };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// Create useStore hook\r\nexport const useStore = create(devtools(redux(reducer, initialState)));\r\n\r\n// Create protected page hook\r\nexport const useProtected = (toastMessage = 'You must be signed in to view this page') => {\r\n  const { dispatch, user } = useStore();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (!user.token) {\r\n      dispatch({ type: actions.TOAST, payload: { message: toastMessage , statusCode: 1 } });\r\n      history.replace('/login');\r\n    }\r\n  }, [user]);\r\n};","export const baseURL = 'https://socialapp-api.herokuapp.com/';\r\n\r\nexport const loginRequest = (username, password) => (\r\n  fetch(`${baseURL}auth/login`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({\r\n      username,\r\n      password,\r\n    }),\r\n  }).then((res) => res.json())\r\n);\r\n\r\nexport const logoutRequest = (token) => (\r\n  fetch(`${baseURL}auth/logout`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  }).then((res) => res.json())\r\n);\r\n\r\nexport const createUser = (username, displayName, password) => (\r\n  fetch(`${baseURL}users`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({\r\n      username,\r\n      displayName,\r\n      password,\r\n    }),\r\n  }).then((res) => res.json())\r\n);\r\n\r\nexport const updateUser = (username, password, displayName, about, token) => (\r\n  fetch(`${baseURL}users/${username}`, {\r\n    method: 'PATCH',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({\r\n      ...{ displayName, about },\r\n      ...(password ? { password } : {})\r\n    }),\r\n  }).then((res) => res.json())\r\n);\r\n\r\nexport const deleteUser = (username, token) => (\r\n  fetch(`${baseURL}users/${username}`, {\r\n    method: 'DELETE',\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  }).then((res) => res.json())\r\n);\r\n\r\nexport const putPicture = (username, pictureData, token) => {\r\n  let formData = new FormData();\r\n  formData.append('picture', pictureData);\r\n\r\n  return fetch(`${baseURL}users/${username}/picture`, {\r\n    method: 'PUT',\r\n    headers: { \r\n      Authorization: `Bearer ${token}`,\r\n  },\r\n    body: formData,\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const getPicture = (username) => (\r\n  fetch(`${baseURL}users/${username}/picture`, {\r\n    method: 'GET',\r\n  }).then((res) => {\r\n    if(!res.ok) {\r\n      return null;\r\n    } \r\n    return res.blob();\r\n  })\r\n  .then((blob) => blob ? URL.createObjectURL(blob) : null)\r\n);\r\n\r\nexport const createMessage = (message, token) => (\r\n  fetch(`${baseURL}messages`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ text: message })\r\n  }).then((res) => res.json())\r\n);\r\n\r\nexport const addLike = (id, token) => (\r\n  fetch(`${baseURL}likes`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify( { messageId: id })\r\n  }).then((res) => res.json())\r\n);\r\n\r\nexport const removeLike = (likeId, token) => (\r\n  fetch(`${baseURL}likes/${likeId}`, {\r\n    method: 'DELETE',\r\n    headers: {Authorization: `Bearer ${token}`},\r\n  }).then((res) => res.json())\r\n);\r\n\r\nexport const getMessageList = (limit, offset) => (\r\n  fetch(`${baseURL}messages?limit=${limit}&offset=${offset}`, {\r\n    method: 'GET'\r\n  }).then((res) => res.json())\r\n);\r\n\r\nexport const getUser = (username) => (\r\n  fetch(`${baseURL}users/${username}`, {\r\n    method: 'GET',\r\n  }).then((res) => res.json())\r\n);\r\n","import { useEffect, createContext } from 'react';\r\n\r\nconst Polling = {\r\n  /** \r\n   * @param {Number} interval How often to poll in ms\r\n   * @param {Function} callback Function that will be called\r\n   */\r\n  usePolling: (interval, callback) => {\r\n    useEffect(() => {\r\n      callback();\r\n      const pollInterval = setInterval(callback, interval);\r\n\r\n      return () => {\r\n        clearInterval(pollInterval);\r\n      };\r\n    }, []);\r\n\r\n    return (triggerFunction, ...args) => {\r\n      triggerFunction(...args)?.then(callback);\r\n    };\r\n  },\r\n\r\n  Context: createContext(() => {}),\r\n\r\n};\r\n\r\nexport default Polling;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Message, Button, Icon, Label } from 'semantic-ui-react';\r\nimport '../assets/messageItem.css';\r\nimport { getUser, baseURL, addLike, removeLike } from '../apis/social';\r\nimport { useStore } from '../store/store';\r\nimport Polling from '../store/polling';\r\n\r\nfunction Messages (props) {\r\n  const [userData, setUserData] = useState({\r\n    displayName: '',\r\n    picture: './default.png',\r\n  });\r\n  const user = useStore((state) => state.user);\r\n  const poll = useContext(Polling.Context);\r\n\r\n  const like = props.likes.find((like) => like.username === user.username);\r\n  const isLiked = !!like;\r\n\r\n  // When props change\r\n  useEffect(() => {\r\n    getUser(props.username).then((response) => {\r\n      if (response.statusCode === 200)\r\n        setUserData((prev) => ({\r\n          displayName: response.user.displayName,\r\n          picture: response.user.pictureLocation ? baseURL.slice(0, -1) + response.user.pictureLocation : prev.picture,\r\n        }));\r\n    });\r\n  }, []);\r\n\r\n  const toggleLike = () => {\r\n    return isLiked ?\r\n      removeLike(like.id, user.token)\r\n      : addLike(props.id, user.token);\r\n  };\r\n\r\n  return(\r\n    <Message compact id=\"message\">\r\n        <div id=\"user-info\">\r\n          <img className=\"user-image\" src={userData.picture} />\r\n          <div><Message.Header><span>{userData.displayName}</span> <br /> <span>@{props.username}</span></Message.Header></div>\r\n        </div>\r\n        <div id=\"content\"><p>{props.text}</p></div>\r\n        <Button as='div' id='like-button' labelPosition='right'>\r\n        <Button \r\n          className={isLiked ? 'liked' : ''}\r\n          icon\r\n          type=\"button\" onClick={() => poll(toggleLike)}>\r\n          <Icon name='heart' />\r\n          Like\r\n        </Button>\r\n        <Label as='a' basic pointing='left'>\r\n          {props.likeCount}\r\n        </Label>\r\n        </Button>\r\n    </Message>\r\n  );\r\n}\r\n\r\nexport default Messages;","// TODO: Create a MessageList to display messages\r\nimport MessageItem from './MessageItem';\r\nimport { useStore } from '../store/store';\r\n\r\nfunction MessageList() {\r\n  const msg = useStore((state) => state.messages);\r\n\r\n  return (\r\n    <div className=\"MsgList\">\r\n      {msg.map(m => (\r\n        <MessageItem {...m} key={m.id} likeCount={m.likes.length}/>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\nexport default MessageList;\r\n","import React, { useState } from 'react';\r\nimport { useProtected, useStore, actions } from '../store/store';\r\nimport { getMessageList, createMessage } from '../apis/social';\r\nimport MessageList from '../components/MessageList';\r\nimport { Form, Button, TextArea } from 'semantic-ui-react';\r\nimport '../assets/home.css';\r\nimport Polling from '../store/polling';\r\n\r\nfunction Home() {\r\n  const user = useStore((state) => state.user);\r\n  const dispatch = useStore((state) => state.dispatch);\r\n  const [draft, setDraft] = useState('');\r\n  useProtected('Please sign in to start chatting!');\r\n\r\n  const getNewMessages = () => {\r\n    getMessageList(10, 0)\r\n    .then((response) => {\r\n      if (response.statusCode === 200) {\r\n        dispatch({ type: actions.UPDATE_MESSAGES, payload: response.messages });\r\n      }\r\n    });\r\n  };\r\n\r\n  const poll = Polling.usePolling(5000, getNewMessages);\r\n\r\n  const handleChange = (event) => {\r\n    setDraft(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    return createMessage(draft, user.token)\r\n      .then((response) => {\r\n        if (response.statusCode === 200) setDraft('');\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"home-view\">\r\n      <Polling.Context.Provider value={poll}>\r\n        <MessageList />\r\n        <Form className=\"draftbox\" onSubmit={(event) => poll(handleSubmit, event)}>\r\n          <Form.Field>\r\n            <TextArea\r\n              rows={3}\r\n              value={draft}\r\n              placeholder=\"Draft a message here...\"\r\n              onChange={handleChange}\r\n            />\r\n            <Button variant=\"secondary\" type=\"submit\">\r\n              Send\r\n            </Button>\r\n          </Form.Field>\r\n        </Form>\r\n      </Polling.Context.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport '../assets/notFound.css';\r\n\r\nfunction NotFound() {\r\n  return (\r\n    <div id=\"error-page\">\r\n      <img src=\"https://cdn.dribbble.com/users/722246/screenshots/3066818/404-page.gif\"/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NotFound;\r\n","import React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nimport { loginRequest } from '../apis/social';\r\nimport { actions, useStore } from '../store/store';\r\nimport { Button, Form } from 'semantic-ui-react';\r\nimport '../assets/login.css';\r\n\r\nfunction Login() {\r\n  const dispatch = useStore((state) => state.dispatch);\r\n  const history = useHistory();\r\n\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    password: '',\r\n  });\r\n\r\n  const handleLogin = (event) => {\r\n    event.preventDefault();\r\n    loginRequest(formData.username, formData.password).then((userData) => {\r\n      dispatch({ type: actions.LOGIN, payload: userData });\r\n      if (userData.statusCode === 200) history.push('/');\r\n    });\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setFormData((state) => ({ ...state, [event.target.name]: event.target.value }));\r\n  };\r\n\r\n  return (\r\n  <div className=\"colorbg\">\r\n      <div id=\"login-form\">\r\n      <h1>Login</h1>\r\n      <Form onSubmit={handleLogin}>\r\n        <Form.Field>\r\n          <label htmlFor=\"username\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={formData.username}\r\n            autoFocus\r\n            required\r\n            onChange={handleChange}\r\n            pattern =\".{3,}\" \r\n            \r\n          />\r\n        </Form.Field>\r\n        <Form.Field>\r\n        <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={formData.password}\r\n            required\r\n            onChange={handleChange}\r\n          />\r\n        </Form.Field>\r\n        <Button type=\"submit\">Submit</Button>\r\n      </Form>\r\n      <hr />\r\n      <Link to=\"/signup\">\r\n        <Button id=\"create-account\" type=\"button\">Create New Account</Button>\r\n      </Link>\r\n    </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, {useState} from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Button, Form } from 'semantic-ui-react';\r\nimport { createUser, loginRequest } from '../apis/social';\r\nimport { actions, useStore } from '../store/store';\r\nimport '../assets/newaccount.css';\r\n\r\nconst NewAccount = () => {\r\n  const dispatch = useStore((state) => state.dispatch);\r\n  const user = useStore((state) => state.user);\r\n\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    displayName: '',\r\n    password: '',\r\n  });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    createUser(formData.username, formData.displayName, formData.password)\r\n      .then(() => (\r\n        loginRequest(formData.username, formData.password)\r\n      ))\r\n      .then((userData) => dispatch({ type: actions.LOGIN, payload: userData }));\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const inputName = e.target.name;\r\n    const inputValue = e.target.value;\r\n    setFormData((state) => ({...state, [inputName]: inputValue}));\r\n  };\r\n  \r\n  return (\r\n    <div className=\"colorbg\">\r\n      {user.token && <Redirect to=\"/\" />}\r\n      <div id=\"newaccount-form\">\r\n        <h1>Sign Up</h1>\r\n        <Form onSubmit={handleSubmit}>            \r\n          <Form.Field>\r\n            <label>Username</label>\r\n            <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={formData.username}\r\n            autoFocus\r\n            required\r\n            onChange={handleChange} \r\n            pattern= \".{3,}\"\r\n            placeholder=\"Username\" />\r\n          </Form.Field>\r\n          <Form.Field>\r\n            <label>Display Name</label>\r\n            <input \r\n            type=\"text\"\r\n            name=\"displayName\"\r\n            value={formData.displayName}\r\n            autoFocus\r\n            required\r\n            onChange={handleChange}\r\n            pattern= \".{3,}\"\r\n            placeholder=\"Display Name\" />\r\n          </Form.Field>\r\n          <Form.Field>\r\n            <label>Password</label>\r\n            <input\r\n            type=\"password\" \r\n            name=\"password\"\r\n            value={formData.password}\r\n            autoFocus\r\n            required\r\n            onChange={handleChange}\r\n            pattern= \".{3,}\"\r\n            placeholder=\"Password\" />\r\n          </Form.Field>\r\n        \r\n          <Button \r\n          type=\"submit\">Submit</Button>\r\n\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewAccount;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { putPicture, getPicture } from '../apis/social';\r\nimport { useStore, actions } from '../store/store';\r\n\r\nfunction ProfilePicture() {\r\n  const dispatch = useStore((state) => state.dispatch);\r\n  const user = useStore((state) => state.user);\r\n  const [image, setImage] = useState('./default.png');\r\n  const handleSubmitPhoto = (e) => {\r\n    if(e.target.files.length)\r\n    putPicture(user.username, e.target.files[0], user.token)\r\n    .then((response) => {  \r\n      if (response.statusCode === 200){\r\n        dispatch({ type: actions.TOAST, payload: \r\n        { message: 'Successfully updated profile picture', statusCode: 200} });\r\n        syncPicture();\r\n      } \r\n      else {\r\n        dispatch({ type: actions.TOAST, payload: response});\r\n      }\r\n    });\r\n  };\r\n\r\n  const syncPicture = () => {\r\n    getPicture(user.username)\r\n      .then((res) => res && setImage(res));\r\n  };\r\n   \r\n  useEffect(syncPicture, [user]);\r\n\r\n  return(\r\n    <div className=\"currentImage\">\r\n        <img src={image} />\r\n        <input \r\n        type=\"file\" onChange={handleSubmitPhoto}\r\n        />\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePicture;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {\r\n  Form,\r\n  TextArea,\r\n  Input,\r\n  Button,\r\n} from 'semantic-ui-react';\r\nimport '../assets/editProfile.css';\r\nimport { actions, useProtected, useStore } from '../store/store';\r\nimport { updateUser, deleteUser, getUser } from '../apis/social';\r\nimport ProfilePicture from '../components/ProfilePicture';\r\n\r\nfunction Profile() {\r\n  const user = useStore((state) => state.user);\r\n  const dispatch = useStore((state) => state.dispatch);\r\n  const history = useHistory();\r\n  const [formData, setFormData] = useState({\r\n    displayName: '',\r\n    about: '',\r\n    password: '',\r\n    picture: '',\r\n  });\r\n  \r\n  useProtected('You must be signed in to edit your profile');\r\n\r\n  const syncFormToApi = () => {\r\n    if (user.username)\r\n      getUser(user.username).then((userData) => {\r\n          setFormData((prev) => ({\r\n            ...prev,\r\n            displayName: userData.user.displayName,\r\n            about: userData.user.about,\r\n            password: '',\r\n          }));\r\n      });\r\n  };\r\n\r\n  useEffect(syncFormToApi, [user]);\r\n\r\n  const updateForm = (event) => {\r\n    const name = event.target.name;\r\n    const value = event.target.value;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const submitForm = (event) => {\r\n    event.preventDefault();\r\n    updateUser(user.username, formData.password, formData.displayName, formData.about, user.token)\r\n      .then(() => {\r\n        syncFormToApi();\r\n        dispatch({ type: actions.TOAST, payload: { message: 'Successfully updated profile', statusCode: 200 } });\r\n      });\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    deleteUser(user.username, user.token)\r\n      .then((response) => {\r\n        if (response.statusCode === 200) {\r\n          history.push('/login');\r\n          dispatch({ type: actions.LOGOUT });\r\n          dispatch({ type: actions.TOAST, payload: { message: 'Account successfully deleted', statusCode: 2 } });\r\n        }\r\n      });\r\n  };\r\n  \r\n  return (\r\n    <div className=\"profile\">\r\n      <h1>Edit Profile</h1>\r\n      <ProfilePicture />\r\n      <div id=\"delete-button\">\r\n        <Button basic color=\"red\" type=\"button\" onClick={handleDelete}>\r\n          Delete Account\r\n        </Button>\r\n      </div>\r\n      <div className=\"profile-form\">\r\n        <Form id=\"update-user\" onSubmit={submitForm}>\r\n          <Form.Field>\r\n            <label>Display Name *</label>\r\n            <Input\r\n              name=\"displayName\"\r\n              placeholder=\"Display Name\"\r\n              value={formData.displayName}\r\n              required\r\n              pattern=\".{3,}\"\r\n              onChange={updateForm}\r\n            />\r\n          </Form.Field>\r\n          <Form.Field>\r\n            <label>About Me (Optional)</label>\r\n            <TextArea\r\n              name=\"about\"\r\n              placeholder=\"About\"\r\n              value={formData.about}\r\n              onChange={updateForm}\r\n            />\r\n          </Form.Field>\r\n          <Form.Field>\r\n            <label>New Password (Optional)</label>\r\n            <Input placeholder=\"New Password\" \r\n              name=\"password\"\r\n              value={formData.password}\r\n              type=\"password\" \r\n              pattern= \".{3,}\"\r\n              onChange={updateForm}\r\n            />\r\n          </Form.Field>\r\n          <Button type=\"submit\">Update Profile</Button>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Button } from 'semantic-ui-react';\r\nimport '../assets/navigation.css';\r\nimport { useStore } from '../store/store';\r\nimport { logoutRequest } from '../apis/social';\r\n\r\nfunction Navigation () {\r\n  const user = useStore((state) => state.user);\r\n  const dispatch = useStore((state) => state.dispatch);\r\n  const history = useHistory();\r\n\r\n  const logout = () => {\r\n    logoutRequest(user.token).then(() => {\r\n      history.push('/login');\r\n      dispatch({ type: 'LOGOUT' });\r\n    });\r\n  };\r\n\r\n  return(\r\n    <div id=\"nav-bar\">\r\n      <Button id=\"nav-back-button\" onClick={history.goBack}>Back</Button>\r\n      <h1 className=\"site-title\">Bitter</h1>\r\n      <div id=\"nav-buttons\">\r\n        {user.token ? \r\n          (<>\r\n            <Link to=\"/\">Chat</Link>\r\n            <Link to=\"/profile\">Edit Profile</Link>\r\n            <a onClick={logout}>Logout</a>  \r\n          </>)\r\n          \r\n          : (<>\r\n              <Link to=\"/login\">Login</Link>\r\n              <Link to=\"/signup\">Sign Up</Link>\r\n            </>)\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navigation;","import React, { useEffect } from 'react';\r\nimport '../assets/toast.css';\r\n\r\nimport { actions, useStore } from '../store/store';\r\n\r\nconst Toast = () => {\r\n  const dispatch = useStore((state) => state.dispatch);\r\n  const toast = useStore((state) => state.toast); \r\n  const fadeClass = toast?.message ? 'toast-show' : '';\r\n\r\n  // When the toast state changes\r\n  useEffect(() => {\r\n    let anim = null;\r\n    if (toast.message) {\r\n      anim = setTimeout(() => dispatch({ type: actions.UNTOAST }), 2000);\r\n    }\r\n\r\n    return () => {\r\n      clearTimeout(anim);\r\n    };\r\n  }, [toast]);\r\n\r\n  return (\r\n    <div className={`toast toast-${toast.statusCode} ${fadeClass}`}>\r\n      <p>{toast.message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toast;","import { Switch, Route, useHistory } from 'react-router-dom';\r\n\r\nimport 'semantic-ui-css/semantic.min.css';\r\n\r\nimport Home from './views/Home';\r\nimport NotFound from './views/NotFound';\r\nimport Login from './views/Login';\r\nimport NewAccount from './views/NewAccount';\r\nimport Profile from './views/Profile';\r\nimport Navigation from './components/Navigation';\r\nimport Toast from './components/Toast';\r\n\r\nfunction App() {\r\n  const history = useHistory();\r\n  window.show404 = () => history.push('/404');\r\n  return (\r\n    <div className=\"App\">\r\n      <Toast />\r\n      <Navigation />\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Home} />\r\n        <Route path=\"/login\" component={Login} />\r\n        <Route path=\"/signup\" component={NewAccount} />\r\n        <Route exact path=\"/profile\" component={Profile} />\r\n        <Route component={NotFound} />\r\n      </Switch>   \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './assets/index.css';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter basename=\"/kwitter-gmferise\">\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}